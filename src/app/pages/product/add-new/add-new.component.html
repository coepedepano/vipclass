  <header class="py-5 mb-4">
</header>  
<div class="container">

    <h2 class="text-muted">Create your Course in 3 steps </h2>


 <div class="row">


  <mat-horizontal-stepper #stepper>

  <mat-step [stepControl]="courseInformationForm" label="Course Information">

    <form [formGroup]="courseInformationForm">


      <mat-form-field class="full-width">
      
        <mat-select  formControlName="categorieId" placeholder="Categorie">
        
          <mat-option *ngFor="let cat of categories" [value]="cat.id">
            {{cat.description}}
          </mat-option>
        </mat-select>

      </mat-form-field>

      <div class="row g-2"> 
     <mat-form-field class="medium-width">
      
        <input matInput placeholder="Name" formControlName="name">
      </mat-form-field>

   
      <mat-form-field class="medium-width">
      
        <input matInput placeholder="Description" formControlName="description">
      </mat-form-field>
    </div>

    <app-file-upload iconFile="attach_file"type="image" (change)="getContentPreview($event)"  mensage="Choose a cover" requiredFileType="image/png,image/jpeg,image/gif,image/webp"></app-file-upload>

    <div class="row g-2">
      <mat-form-field class="medium-width">
        <mat-label>Coin</mat-label>
        <mat-select  formControlName="coinId">     
          <mat-option *ngFor="let coin of coins" [value]="coin.id">
            {{coin.name}}
          </mat-option>
        </mat-select>
      </mat-form-field>

    <mat-form-field class="medium-width">
  
      <input matInput placeholder="Price" formControlName="price">
    </mat-form-field>
  </div>
  <div class="mb-2">
    <mat-form-field class="medium-width">
    
      <input matInput placeholder="Producer Royalties" formControlName="producerRoyalties">
    </mat-form-field>
  </div>
    <div class="row g-2"> 
      <mat-form-field class="medium-width">
       
         <input matInput placeholder="Co Producer" formControlName="codProducer">
       </mat-form-field>
 
    
       <mat-form-field class="medium-width">
       
         <input matInput placeholder="Co-Producer Royalties" formControlName="codProducerRoyalties">
       </mat-form-field>
     </div>


        <button  (click)="goForward(stepper)" class="btn btn-warning text-white">Next</button>
        
    </form>

  </mat-step>
  <mat-step [stepControl]="uploadCourseForm" label="Upload Course">

    <form [formGroup]="uploadCourseForm">

      <div class="row mb-3">
 
        <mat-form-field class="full-width">
        
          <input matInput placeholder="Module Name" formControlName="moduleName">
        </mat-form-field>
    
        <mat-form-field class="medium-width">
        
          <input matInput placeholder="Name Content" formControlName="description">
        </mat-form-field>
        
        <mat-form-field class="medium-width">
        
          <input matInput placeholder="Duration" formControlName="duration">
        </mat-form-field>

      </div>
      
      
      <div class="row">
        <app-file-upload iconFile="play_circle" type="video" (change)="getContentVideo($event)" mensage="Choose a file" requiredFileType="video/mp4,video"></app-file-upload>
      </div>
      <br>
      <div class="row col-1">
        <button class="btn btn-success text-white" (click)="onAddModule();">
          Add 
        </button>
      </div>
   <br>
      <div class="row">

        <table class="table table-hover">
            <thead class="thead-light">
              <tr>
              
              </tr>
                <tr>
                 
                   
                    <th>
                        Description
                    </th>
                    <th>
                      Duration
                  </th>
                  <th>
                      Content
                  </th>
                 <th></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let md of modules">
         
                    <td>
                        {{ md.description }}
                    </td>
                    <td>
                      {{ md.duration }}
                  </td>
                  <td>
                   
                    <video [src]="md.preview" style="width:100px; height: 50px;"  class="img-fluid" controls></video>
                  </td>
            
                    <td class="text-center">
                        <a class="btn btn-warning" [routerLink]="['/product/details',md.id]">
                            <span class="fa fa-search"></span>
                        </a>&nbsp;
                        <a class="btn btn-info" [routerLink]="['/product/edit',md.id]">
                            <span class="fa fa-pencil-alt"></span>
                        </a>&nbsp;
                        <a class="btn btn-danger" [routerLink]="['/product/delete',md.id]">
                            <span class="fa fa-trash"></span>
                        </a>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

   

     
        <button (click)="goBack(stepper)" class="btn btn-primary text-white btn mr-1">Back</button>
        <button (click)="goForward(stepper)" class="btn btn-warning text-white">Next</button>
    
    </form>

  </mat-step>

  <mat-step [stepControl]="resumoForm" label="Resume and finish">


    <form [formGroup]="resumoForm">



      <div class="container main-container container-fluid">
        <div class="row"> 
            <div class="col-sm-12 text-center">
             
        
           <p> 
            {{course.courseName}}
          </p>
          <p> 
            {{course.description}}
          </p>
            
          <p> 
            {{course.price}}
          </p>

          <p> 
            {{course.producerRoyaltie}}
          </p>

          <p> 
            {{course.coproducer}}
          </p>
          <p> 
            {{course.coProducerRoyaltie}}
          </p>
       
            </div>
 
            <button class="btn btn-success btn-block text-white">
               
              Create 
          </button>
        </div>
    </div>
    </form>

    <button (click)="goBack(stepper)" class="btn btn-primary text-white btn mr-1">Back</button>

  </mat-step>
 
</mat-horizontal-stepper>

 </div>
</div>

<!-- <div class="container main-container container-fluid">
    <div class="row"> 
        <div class="col-sm-8">
         

            <form [formGroup]="productForm" class="form"> -->
    
                <!-- <mat-form-field appearance="outline">
                   <ngx-mat-file-input [formControl]="uploadFile">
                   </ngx-mat-file-input>
                   <mat-hint>selected file(s)</mat-hint>
                 </mat-form-field>  -->

                 <!-- <mat-form-field class="full-width" appearance="outline">
                   <ngx-mat-file-input #removableInput formControlName="requiredfile" placeholder="Required input" valuePlaceholder="Choose File"></ngx-mat-file-input>
                   <mat-error *ngIf="productForm.get('requiredfile')?.hasError('required')">
                     Please select a file
                   </mat-error> f
                   <mat-error *ngIf="productForm.get('requiredfile')?.hasError('maxContentSize')">
                     The total size must not exceed {{productForm.get('requiredfile')?.getError('maxContentSize').maxSize | byteFormat}} ({{productForm.get('requiredfile')?.getError('maxContentSize').actualSize
                     | byteFormat}}).
                   </mat-error>
                -->
                   <!-- <button mat-icon-button matSuffix *ngIf="!removableInput.empty" (click)="removableInput.clear($event)">
                       <mat-icon>clear</mat-icon>
                   </button>
                 </mat-form-field>  -->
<!--                
                 <div *ngIf="!previewVideo" class="form-group">
    
                    <div class="custom-file">
                        <input type="file"  accept="video/mp4,video" class="custom-file-input" id="imagem" formControlName="video" (change)="videoChangeEvent($event)">             
                         <label class="custom-file-label" for="imagem">Choose file</label>                  
                        <span *ngIf='videoName'><br>{{ videoName }}<br></span>                   
                    </div>
    
                </div>

                <div *ngIf="previewVideo" class="form-group"> 
                
                  <mat-card style="width: 400px"> 
                            
                    <mat-icon (click)="clearVideoPreview();" style="padding-left: 350px; cursor:pointer">clear</mat-icon>
               
                      <div class="col col-md-6">
                        <video [src]="urlVideo"  class="img-fluid" controls></video>
                      </div>
                    
                   </mat-card>

                  </div> -->
            
             
            
                        <!-- <div *ngIf="!previewCover" class="form-group">
    
                        <div class="custom-file">
                            <input type="file" accept="image/png,image/jpeg,image/gif,image/webp,video/mp4,video/webm,audio/mp3,audio/webm,audio/mpeg" class="custom-file-input" id="cover" formControlName="imagem" (change)="fileChangeEvent($event)">
                        
                             <label class="custom-file-label" for="cover">Choose cover</label>
                            <span *ngIf='imageName'><br>{{ imageName }}<br></span>
                           
                        </div> -->
                         <!-- <div *ngIf='imageName' class="row">
                            <div class="col col-md-6">
                                <image-cropper [imageChangedEvent]="imageChangedEvent" [maintainAspectRatio]="false" [containWithinAspectRatio]="containWithinAspectRatio" [aspectRatio]="4 / 3" [resizeToWidth]="256" [cropperMinWidth]="128" [onlyScaleDown]="true" [roundCropper]="false"
                                    [canvasRotation]="canvasRotation" [transform]="transform" [alignImage]="'left'" [style.display]="showCropper ? null : 'none'" format="png" (imageCropped)="imageCropped($event)" (imageLoaded)="imageLoaded()" (cropperReady)="cropperReady($event)"
                                    (loadImageFailed)="loadImageFailed()"></image-cropper>
                            </div>
                    
                        </div> -->
                       <!-- </div> -->

                       <!-- <div *ngIf="previewCover" class="form-group">
                        <mat-card style="width: 350px; height: 275;">          
                          <mat-icon (click)="clearPreviewCover();" style="padding-left: 350px; cursor:pointer">clear</mat-icon>
                          <div class="col col-md-6">
                              <img [src]="croppedImage" class="img-fluid" id="imgPreview" [style.border]="croppedImage ? '1px solid' : 'none'" />
                          </div>
                       </mat-card>
                      </div> -->


                       <!-- <div class="form-group">
                          <mat-button-toggle-group   name="fontStyle" aria-label="Font Style" (change)="onChange($event.value);">
                            <mat-button-toggle checked="true"  value="fixed">
                                <mat-icon >request_page</mat-icon>
                                
                                Fixed price
                            </mat-button-toggle>
                            <mat-button-toggle value="time">

                                <mat-icon>query_builder</mat-icon>
                                Limited offer
                            </mat-button-toggle>
                     
                          </mat-button-toggle-group>

                       </div>

                       <table *ngIf="timeAuction" class="full-width" cellspacing="0">
                        <tr>
     
                        <td>
                            <mat-form-field class="full-width">
                                <mat-label>Starting Date</mat-label>
                                <mat-select [formControl]="startDate" name="startDate">
                                  <mat-option>None</mat-option>
                                  <mat-option *ngFor="let dt of startDates" [value]="dt.id">
                                    {{dt.name}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
                        </td>
                        <td>
                            <mat-form-field class="full-width">
                                <mat-label>Expiration Date</mat-label>
                                <mat-select [formControl]="expirationDate" name="expirationDate">
                                  <mat-option>None</mat-option>
                                  <mat-option *ngFor="let ex of expirationDates" [value]="ex.id">
                                    {{ex.name}}
                                  </mat-option>
                                </mat-select>
                              </mat-form-field>
            
                       </td>
                      </tr>
                      </table>

                    <mat-form-field class="full-width">
                       <mat-label>Categorie</mat-label>
                       <mat-select [formControl]="categorieId" name="categorieId">
                         <mat-option>None</mat-option>
                         <mat-option *ngFor="let cat of categories" [value]="cat.id">
                           {{cat.name}}
                         </mat-option>
                       </mat-select>
           
                     </mat-form-field>
             
                   <mat-form-field class="full-width">
                       <mat-label>Name</mat-label>
                       <input matInput placeholder="" id="name">
                     </mat-form-field>
             
                  
                   <mat-form-field class="full-width">
                       <mat-label>Description</mat-label>
                       <input matInput placeholder="" id="description">
                     </mat-form-field> 
      

               <table class="full-width" cellspacing="0">
                   <tr>

                   <td>
                       <mat-form-field class="full-width">
                           <mat-label>Price</mat-label>
                           <input matInput placeholder="" id="price">
                         </mat-form-field>
                  
                   </td>
                   <td>
                       <mat-form-field class="full-width">
                           <mat-label>Coin</mat-label>
                           <mat-select [formControl]="coinId" name="coinId">
                             <mat-option>None</mat-option>
                             <mat-option *ngFor="let coin of coins" [value]="coin.id">
                               {{coin.name}}
                             </mat-option>
                           </mat-select>
                         </mat-form-field>
       
                  </td>
                 </tr>
               </table>
        
             </form>

        </div>
        <div class="col-sm-4">
           <div style="position: fixed;"> 
            <mat-card style="width: 350px; height: 275;">
                <p class="text-muted">Preview</p>
                <mat-icon>preview</mat-icon>
                <div class="col col-md-6">
                    <img [src]="croppedImage" class="img-fluid"  id="imgPreview" [style.border]="croppedImage ? '1px solid black' : 'none'" />
                </div>
             </mat-card>
            </div>

        </div>
      
              
    
                </div>

                <br>
                <br>
            
                  <div class="text-left">
                    <button type="button" class="btn btn-warning btn-lg text-white">Create Item</button>
                  </div>
    </div> -->

